# VIMaster 快速开始指南

## 📋 概述

VIMaster 是一个基于价值投资理论的股票分析系统，使用 9 个独立的 AI Agent 对股票进行全面评估。

---

## 🚀 快速开始

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 分析股票

#### 方式 A: 命令行直接分析
```bash
python run.py analyze 600519
```

#### 方式 B: 运行脚本分析（600519 示例）
```bash
python analyze_600519.py
```

#### 方式 C: 交互模式
```bash
python run.py
# 然后输入: analyze 600519
```

### 3. 查看报告

完整分析报告位置：
- 📄 **ANALYSIS_REPORT_600519.md** - 600519 的详细分析报告
- 📄 **COMPLETION_SUMMARY.md** - 项目完成总结

---

## 📊 9 大分析 Agent

| # | Agent | 功能 |
|----|-------|------|
| 1️⃣ | **股权思维** | 评估企业盈利能力与增长潜力 |
| 2️⃣ | **护城河** | 分析企业竞争优势 |
| 3️⃣ | **财务分析** | 评估财务指标（ROE、毛利率等） |
| 4️⃣ | **估值** | 计算内在价值和合理价格 |
| 5️⃣ | **安全边际** | 分析价格与价值的差异 |
| 6️⃣ | **买入点** | 识别买入时机 |
| 7️⃣ | **卖出纪律** | 识别卖出信号 |
| 8️⃣ | **风险管理** | 评估投资风险 |
| 9️⃣ | **心理纪律** | 生成最终投资决策 |

---

## 💡 投资信号说明

| 信号 | 含义 |
|------|------|
| 🟢🟢 **STRONG_BUY** | 强烈买入 |
| 🟢 **BUY** | 买入 |
| 🟡 **HOLD** | 持有/观望 |
| 🔴 **SELL** | 卖出 |
| 🔴🔴 **STRONG_SELL** | 强烈卖出 |

---

## 📈 600519 分析示例

### 快速结论
- **股票**: 贵州茅台（600519）
- **最终建议**: 🔴 **卖出**
- **信念强度**: 70%
- **综合评分**: 10.06/100

### 核心数据
| 项目 | 数值 |
|------|------|
| 当前价格 | ¥1800.50 |
| 内在价值 | ¥766.64 |
| 高估倍数 | 2.35 倍 |
| ROE | 32% ✓ |
| 毛利率 | 92% ✓ |
| 负债率 | 5% ✓ |
| 护城河强度 | 9.0/10 ✓ |
| 风险等级 | 中等 ✓ |

### 核心问题
❌ **严重高估** - 当前价格相对内在价值高估 135%，无安全边际

---

## 🔧 项目结构

```
VIMaster/
├── src/
│   ├── agents/                      # 9个独立Agent模块
│   │   ├── equity_thinking_agent.py
│   │   ├── moat_agent.py
│   │   ├── financial_analysis_agent.py
│   │   ├── valuation_agent.py
│   │   ├── safety_margin_agent.py
│   │   ├── buy_signal_agent.py
│   │   ├── sell_signal_agent.py
│   │   ├── risk_management_agent.py
│   │   └── behavioral_discipline_agent.py
│   ├── data/
│   │   └── akshare_provider.py      # 数据提供者
│   ├── models/
│   │   └── data_models.py           # 数据模型
│   ├── schedulers/
│   │   └── workflow_scheduler.py    # 工作流调度
│   └── app.py                       # CLI应用入口
├── tests/                           # 测试文件（50个测试通过）
├── analyze_600519.py                # 分析脚本示例
├── ANALYSIS_REPORT_600519.md        # 详细分析报告
├── COMPLETION_SUMMARY.md            # 项目完成总结
└── README.md                        # 项目说明

```

---

## ✅ 测试状态

```bash
pytest -q
# 结果: 50 passed ✓
```

---

## 📊 支持分析的股票

预定义的示例数据（可扩展）：

| 代码 | 名称 | 行业 |
|------|------|------|
| 600519 | 贵州茅台 | 白酒 |
| 000858 | 五粮液 | 白酒 |
| 000651 | 格力电器 | 家电 |
| 600036 | 招商银行 | 银行 |
| 000333 | 美的集团 | 家电 |

### 分析其他股票
```bash
python run.py analyze 000858    # 五粮液
python run.py analyze 000651    # 格力电器
python run.py analyze 600036    # 招商银行
python run.py analyze 000333    # 美的集团
```

---

## 🎯 核心功能

### 单只股票分析
```python
from src.app import ValueInvestingApp

app = ValueInvestingApp()
app.analyze_single_stock("600519")
```

### 多只股票对比
```python
app.analyze_multiple_stocks(["600519", "000858", "000651"])
```

### 获取买入推荐
```python
app.get_buy_recommendations(["600519", "000858", "000651"])
```

---

## 📈 输出报告包含

每次分析生成的报告包含：

1. **财务指标分析**
   - 当前价格、PE、PB、ROE、毛利率
   - 自由现金流、负债率、增长率

2. **竞争优势评估**
   - 护城河强度分析
   - 品牌强度、成本优势、网络效应

3. **估值分析**
   - PE/PB/DCF 估值
   - 内在价值与合理价格
   - 估值评分

4. **安全边际分析**
   - 价格与价值差异
   - 安全边际百分比

5. **买入信号识别**
   - 市场情绪分析
   - 买入时机评估

6. **卖出信号识别**
   - 基本面恶化检查
   - 高估识别

7. **风险评估**
   - 风险等级分类
   - 风险缓解策略

8. **投资决策**
   - 最终建议与置信度
   - 建议仓位与止损/止盈价
   - 决策清单通过率

---

## 🔍 在交互模式中使用

```bash
python run.py
```

支持的命令：
```
analyze 600519              # 分析单只股票
portfolio 600519 000858     # 分析多只股票
buy 600519 000858           # 获取买入推荐
help                        # 显示帮助信息
exit                        # 退出程序
```

---

## 🛠️ 配置与扩展

### 修改分析参数

编辑 `src/agents/` 中的 Agent 文件以调整评分标准和阈值

### 添加新的股票数据

编辑 `src/data/akshare_provider.py` 中的 `MOCK_STOCKS_DATA`

### 集成实时数据

替换 akshare 数据获取函数或添加其他数据源（tushare、baostock）

---

## 📚 相关文档

- 📄 **ANALYSIS_REPORT_600519.md** - 600519 完整分析报告（推荐阅读）
- 📄 **COMPLETION_SUMMARY.md** - 项目改进与完成总结
- 📄 **README.md** - 项目完整说明
- 📄 **QUICK_START.py** - 快速开始脚本

---

## ⚠️ 重要提示

1. **仅供参考** - 本系统分析仅供参考，不构成投资建议
2. **基于模拟数据** - 当前使用预定义的模拟财务数据
3. **咨询专业人士** - 重要投资决策应咨询专业投资顾问
4. **承担责任** - 投资者需承担自己的投资决策责任

---

## 📞 技术支持

- 代码文档：查看各 Agent 文件中的详细注释
- 测试用例：参考 `tests/` 目录下的测试文件
- 完成记录：查看 COMPLETION_SUMMARY.md

---

## 🎓 学习资源

本系统基于以下价值投资原则：

- **安全边际**: 购买价格应远低于内在价值
- **护城河**: 寻找具有可持续竞争优势的公司
- **财务健康**: 关注 ROE、现金流、负债率等关键指标
- **心理纪律**: 遵循既定的投资原则，避免情绪化决策

---

**最后更新**: 2026年1月26日  
**版本**: v1.0 (Agent拆分完成版)  
**状态**: ✅ 就绪

