# ğŸ¯ VIMaster - ä»·å€¼æŠ•èµ„åˆ†æç³»ç»Ÿ

<p align="center">
  <b>åŸºäºä»·å€¼æŠ•èµ„ç†è®ºçš„æ™ºèƒ½è‚¡ç¥¨åˆ†æå¹³å°</b>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/version-5.0-blue.svg" alt="Version">
  <img src="https://img.shields.io/badge/python-3.8+-green.svg" alt="Python">
  <img src="https://img.shields.io/badge/license-MIT-yellow.svg" alt="License">
  <img src="https://img.shields.io/badge/status-production--ready-brightgreen.svg" alt="Status">
</p>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [åŠŸèƒ½è¯¦è§£](#-åŠŸèƒ½è¯¦è§£)
- [API æœåŠ¡](#-api-æœåŠ¡)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [æ‰©å±•å¼€å‘](#-æ‰©å±•å¼€å‘)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**VIMaster** æ˜¯ä¸€ä¸ªåŸºäº akshare æ•°æ®æºå’Œä»·å€¼æŠ•èµ„ç†è®ºè®¾è®¡çš„å¤šå±‚æ¬¡è‚¡ç¥¨åˆ†æç³»ç»Ÿã€‚ç³»ç»Ÿé‡‡ç”¨**åº”ç”¨å±‚ã€è°ƒåº¦å±‚ã€æ•°æ®æ¨¡å‹å±‚**ä¸‰å±‚åˆ†å±‚æ¶æ„ï¼Œé€šè¿‡ **9 ä¸ªç‹¬ç«‹ Agent** è¿›è¡Œç»¼åˆåˆ†æï¼Œä¸ºæŠ•èµ„è€…æä¾›ç»“æ„åŒ–çš„æŠ•èµ„å†³ç­–æ”¯æŒã€‚

### âœ¨ ç‰¹è‰²äº®ç‚¹

- ğŸ¤– **9 å¤§æ™ºèƒ½ Agent** - å…¨æ–¹ä½ä»·å€¼åˆ†æ
- ğŸ“Š **æœºå™¨å­¦ä¹ è¯„åˆ†** - ML æ¨¡å‹è¾…åŠ©å†³ç­–
- ğŸ“ˆ **å®æ—¶è¡Œæƒ…æ¨é€** - WebSocket å®æ—¶æ•°æ®
- ğŸ“ **å¤šæ ¼å¼æŠ¥å‘Š** - PDF/Excel ä¸“ä¸šæŠ¥å‘Š
- ğŸŒ **å•†ä¸šåŒ– API** - RESTful æ¥å£æœåŠ¡
- ğŸ‘¥ **ç¤¾åŒºåˆ†äº«** - åˆ†æç»“æœäº’åŠ¨åˆ†äº«
- ğŸ“Š **å¯è§†åŒ–å›¾è¡¨** - 6 ç§ä¸“ä¸šå›¾è¡¨
- â° **å®šæ—¶ä»»åŠ¡** - è‡ªåŠ¨åˆ†æä¸é‚®ä»¶æ¨é€
- ğŸ’¾ **æ•°æ®å­˜å‚¨** - SQLite æŒä¹…åŒ–

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### åŠŸèƒ½çŸ©é˜µ

| æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|:----:|
| **è‚¡ç¥¨åˆ†æ** | 9 å¤§ Agent ç»¼åˆåˆ†æ | âœ… |
| **æœºå™¨å­¦ä¹ ** | ML è¯„åˆ†æ¨¡å‹ | âœ… |
| **æ•°æ®æº** | AkShare/TuShare/BaoStock | âœ… |
| **å®æ—¶è¡Œæƒ…** | WebSocket æ¨é€ | âœ… |
| **æŠ¥å‘Šç”Ÿæˆ** | PDF/Excel å¯¼å‡º | âœ… |
| **å¯è§†åŒ–** | 6 ç§ä¸“ä¸šå›¾è¡¨ | âœ… |
| **å®šæ—¶ä»»åŠ¡** | è‡ªåŠ¨åˆ†æ+é‚®ä»¶ | âœ… |
| **æ•°æ®å­˜å‚¨** | SQLite æŒä¹…åŒ– | âœ… |
| **ç¤¾åŒºåˆ†äº«** | åˆ†æç»“æœåˆ†äº« | âœ… |
| **API æœåŠ¡** | RESTful æ¥å£ | âœ… |
| **æ€§èƒ½ç›‘æ§** | æ—¥å¿—+ç›‘æ§ | âœ… |

---

## ğŸ— ç³»ç»Ÿæ¶æ„

### ä¸‰å±‚åˆ†å±‚è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åº”ç”¨å±‚ (Application Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   CLI    â”‚ â”‚ APIæœåŠ¡  â”‚ â”‚ æŠ¥å‘Šç”Ÿæˆ â”‚ â”‚ å¯è§†åŒ–   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è°ƒåº¦å±‚ (Scheduler Layer)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ WorkflowScheduler  â”‚  â”‚  TaskScheduler     â”‚                 â”‚
â”‚  â”‚ Agentç¼–æ’/ä¾èµ–ç®¡ç†  â”‚  â”‚  å®šæ—¶ä»»åŠ¡è°ƒåº¦       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®æ¨¡å‹å±‚ (Data Model Layer)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ æ•°æ®æ¨¡å‹ â”‚ â”‚ æ•°æ®æº   â”‚ â”‚ MLæ¨¡å‹   â”‚ â”‚ æ•°æ®å­˜å‚¨ â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9 å¤§æ ¸å¿ƒ Agent

| # | Agent åç§° | åŠŸèƒ½æè¿° | è¾“å‡º |
|:-:|-----------|----------|------|
| 1 | **è‚¡æƒæ€ç»´ Agent** | è¯„ä¼°ä¼ä¸šç›ˆåˆ©èƒ½åŠ›å’Œé•¿æœŸå¢é•¿æ½œåŠ› | è‚¡æƒä»·å€¼è¯„åˆ† |
| 2 | **æŠ¤åŸæ²³ Agent** | åˆ†æä¼ä¸šç«äº‰ä¼˜åŠ¿ï¼ˆå“ç‰Œã€æˆæœ¬ã€ç½‘ç»œæ•ˆåº”ï¼‰ | æŠ¤åŸæ²³è¯„åˆ† |
| 3 | **è´¢åŠ¡åˆ†æ Agent** | è¯„ä¼° ROEã€æ¯›åˆ©ç‡ã€ç°é‡‘æµã€è´Ÿå€ºç‡ | è´¢åŠ¡å¥åº·åº¦ |
| 4 | **ä¼°å€¼ Agent** | DCFã€PEã€PB ç»¼åˆä¼°å€¼è®¡ç®— | å†…åœ¨ä»·å€¼ |
| 5 | **å®‰å…¨è¾¹é™… Agent** | åˆ†æä»·æ ¼ä¸ä»·å€¼å·®å¼‚ | å®‰å…¨è¾¹é™…% |
| 6 | **ä¹°å…¥ç‚¹ Agent** | è¯†åˆ«ä¹°å…¥æ—¶æœºï¼ˆæ‚²è§‚ã€å›°éš¾ã€è¯¯è§£ï¼‰ | ä¹°å…¥ä¿¡å· |
| 7 | **å–å‡ºçºªå¾‹ Agent** | è¯†åˆ«å–å‡ºä¿¡å·ï¼ˆåŸºæœ¬é¢ã€é«˜ä¼°ï¼‰ | å–å‡ºä¿¡å· |
| 8 | **é£é™©ç®¡ç† Agent** | è¯„ä¼°æŠ•èµ„é£é™©ï¼ˆèƒ½åŠ›åœˆã€æ æ†ã€è¡Œä¸šï¼‰ | é£é™©ç­‰çº§ |
| 9 | **å¿ƒç†çºªå¾‹ Agent** | ç”ŸæˆæŠ•èµ„å†³ç­–å’Œä»“ä½å»ºè®® | æœ€ç»ˆå†³ç­– |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# Python 3.8+
python --version

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
.venv\Scripts\activate
# Linux/Mac
source .venv/bin/activate

# å®‰è£…åŸºç¡€ä¾èµ–
pip install -r requirements.txt
```

### 2. å®‰è£…å¯é€‰ä¾èµ–

```bash
# æŠ¥å‘Šç”Ÿæˆ
pip install reportlab openpyxl

# å¯è§†åŒ–
pip install matplotlib

# API æœåŠ¡
pip install flask flask-cors

# WebSocket
pip install websockets

# æ€§èƒ½ç›‘æ§
pip install psutil

# å®šæ—¶ä»»åŠ¡
pip install schedule
```

### 3. è¿è¡Œç¨‹åº

#### äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰

```bash
python run.py
```

```
ä»·å€¼æŠ•èµ„åˆ†æç³»ç»Ÿ (äº¤äº’æ¨¡å¼)
============================================================
å‘½ä»¤:
  1. analyze <è‚¡ç¥¨ä»£ç >     - åˆ†æå•åªè‚¡ç¥¨
  2. portfolio <è‚¡ç¥¨1> <è‚¡ç¥¨2> ... - åˆ†æè‚¡ç¥¨ç»„åˆ
  3. buy <è‚¡ç¥¨1> <è‚¡ç¥¨2> ... - è·å–ä¹°å…¥æ¨è
  4. help              - æ˜¾ç¤ºå¸®åŠ©
  5. exit              - é€€å‡ºç¨‹åº
============================================================

è¯·è¾“å…¥å‘½ä»¤: analyze 600519
```

#### å‘½ä»¤è¡Œæ¨¡å¼

```bash
# åˆ†æå•åªè‚¡ç¥¨
python run.py analyze 600519

# åˆ†æå¤šåªè‚¡ç¥¨
python run.py portfolio 600519 000858 000651

# æŸ¥æ‰¾ä¹°å…¥æ¨è
python run.py buy 600519 000858
```

### 4. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œå…¨éƒ¨æµ‹è¯•
pytest

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit -v

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pytest --cov=src tests/
```

---

## ğŸ“Š åŠŸèƒ½è¯¦è§£

### 1. è‚¡ç¥¨åˆ†æ

```python
from src.app import ValueInvestingApp

app = ValueInvestingApp()

# åˆ†æå•åªè‚¡ç¥¨
app.analyze_single_stock("600519")

# åˆ†æå¤šåªè‚¡ç¥¨
app.analyze_multiple_stocks(["600519", "000858", "000651"])
```

**è¾“å‡ºç¤ºä¾‹:**

```
================================================================================
ä»·å€¼æŠ•èµ„åˆ†ææŠ¥å‘Š - 600519
================================================================================

ã€è´¢åŠ¡æŒ‡æ ‡ã€‘
  å½“å‰ä»·æ ¼:     1800.0
  PEæ¯”ç‡:       35.5
  PBæ¯”ç‡:       12.3
  ROE:          0.32
  æ¯›åˆ©ç‡:       0.92

ã€ç«äº‰ä¼˜åŠ¿ï¼ˆæŠ¤åŸæ²³ï¼‰ã€‘
  æŠ¤åŸæ²³å¼ºåº¦:   9.0/10
  å“ç‰Œå¼ºåº¦:     0.95/1.0
  æˆæœ¬ä¼˜åŠ¿:     0.70/1.0

ã€ä¼°å€¼åˆ†æã€‘
  å†…åœ¨ä»·å€¼:     2200.00
  åˆç†ä»·æ ¼:     2000.00
  å®‰å…¨è¾¹é™…:     11.11%

ã€æŠ•èµ„å†³ç­–ã€‘
  æœ€ç»ˆå»ºè®®:     ä¹°å…¥
  å»ºè®®ä»“ä½:     10.00%
  æ­¢æŸä»·:       1620.00
  æ­¢ç›ˆä»·:       2200.00

ã€ç»¼åˆè¯„ä¼°ã€‘
  ç»¼åˆè¯„åˆ†:     78.50/100
  æœ€ç»ˆä¿¡å·:     ä¹°å…¥
================================================================================
```

### 2. æœºå™¨å­¦ä¹ è¯„åˆ†

```python
from src.ml import StockMLScorer

scorer = StockMLScorer()

# è¯„åˆ†
result = scorer.score_stock("600519", {
    "pe_ratio": 35.5,
    "pb_ratio": 12.3,
    "roe": 0.32,
})

print(f"MLè¯„åˆ†: {result['ml_score']}/10")
```

### 3. æŠ¥å‘Šç”Ÿæˆ

```python
from src.app import ValueInvestingApp

app = ValueInvestingApp()

# ç”Ÿæˆ PDF å’Œ Excel æŠ¥å‘Š
app.generate_stock_report("600519", output_dir="reports", formats=["pdf", "excel"])
```

### 4. å¯è§†åŒ–å›¾è¡¨

```python
from src.visualization import create_visualizer

visualizer = create_visualizer()

# ç”Ÿæˆå®Œæ•´å¯è§†åŒ–æŠ¥å‘Š
app.visualize_stock("600519")
```

**æ”¯æŒçš„å›¾è¡¨ç±»å‹:**
- ğŸ“Š è¯„åˆ†é›·è¾¾å›¾
- ğŸ“ˆ ä¼°å€¼å¯¹æ¯”å›¾
- ğŸ’¹ è´¢åŠ¡æŒ‡æ ‡å›¾
- ğŸ¯ ä¿¡å·ä»ªè¡¨ç›˜
- ğŸ¥§ ç»„åˆé…ç½®å›¾
- âš ï¸ é£é™©åˆ†æå›¾

### 5. å®æ—¶è¡Œæƒ…

```python
from src.realtime import create_quote_service

service = create_quote_service()
service.start()

def on_quote(quote):
    print(f"{quote.stock_code}: {quote.price}")

service.subscribe("my_sub", ["600519", "000858"], on_quote)
```

### 6. å®šæ—¶ä»»åŠ¡

```python
from src.services import ScheduledReportService, ReportJobConfig

service = ScheduledReportService()

job = ReportJobConfig(
    job_id="daily_report",
    name="æ¯æ—¥åˆ†ææŠ¥å‘Š",
    stock_codes=["600519", "000858"],
    frequency="daily",
    time_of_day="09:00",
    send_email=True,
    email_recipients=["investor@example.com"],
)

service.add_stock_report_job(job)
service.start()
```

### 7. æ•°æ®å­˜å‚¨

```python
from src.storage import AnalysisRepository

repo = AnalysisRepository()

# æŸ¥è¯¢å†å²åˆ†æ
history = repo.get_history("600519", limit=30)

# æŒ‰ä¿¡å·ç­›é€‰
buy_stocks = repo.get_by_signal("ä¹°å…¥")

# ç»Ÿè®¡ä¿¡æ¯
stats = repo.get_stats()
```

### 8. ç¤¾åŒºåˆ†äº«

```python
from src.community import create_community_service

community = create_community_service()

# æ³¨å†Œç”¨æˆ·
user = community.register_user("investor1", "password", "ä»·å€¼æŠ•èµ„è€…")

# åˆ†äº«åˆ†æ
share = community.share_analysis(
    title="è´µå·èŒ…å°æ·±åº¦åˆ†æ",
    stock_codes=["600519"],
    analysis_data={"score": 78.5, "signal": "ä¹°å…¥"},
    tags=["ç™½é…’", "ä»·å€¼æŠ•èµ„"],
)

# è¯„è®º
community.add_comment(share.share_id, "åˆ†æå¾ˆä¸“ä¸šï¼")
```

---

## ğŸŒ API æœåŠ¡

### å¯åŠ¨æœåŠ¡

```bash
pip install flask flask-cors
python run_api.py --port 5000
```

### API æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/v1/health` | GET | å¥åº·æ£€æŸ¥ |
| `/api/v1/plans` | GET | è®¢é˜…è®¡åˆ’ |
| `/api/v1/keys` | POST | åˆ›å»ºå¯†é’¥ |
| `/api/v1/keys/info` | GET | å¯†é’¥ä¿¡æ¯ |
| `/api/v1/analyze/{code}` | GET | åˆ†æè‚¡ç¥¨ |
| `/api/v1/analyze/batch` | POST | æ‰¹é‡åˆ†æ |
| `/api/v1/quote/{code}` | GET | è·å–è¡Œæƒ… |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# åˆ›å»º API å¯†é’¥
curl -X POST http://localhost:5000/api/v1/keys \
  -H "Content-Type: application/json" \
  -d '{"user_id": "user1", "plan": "basic"}'

# åˆ†æè‚¡ç¥¨
curl http://localhost:5000/api/v1/analyze/600519 \
  -H "X-API-Key: vk_your_api_key"
```

### è®¢é˜…è®¡åˆ’

| è®¡åˆ’ | æ—¥é…é¢ | é™æµ | æœˆè´¹ |
|------|--------|------|------|
| å…è´¹ç‰ˆ | 100 | 10/åˆ†é’Ÿ | Â¥0 |
| åŸºç¡€ç‰ˆ | 1,000 | 60/åˆ†é’Ÿ | Â¥99 |
| ä¸“ä¸šç‰ˆ | 10,000 | 300/åˆ†é’Ÿ | Â¥299 |
| ä¼ä¸šç‰ˆ | 100,000 | 1,000/åˆ†é’Ÿ | Â¥999 |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
VIMaster/
â”œâ”€â”€ src/                              # æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ app.py                        # åº”ç”¨å±‚ä¸»å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                       # Agent æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ base_agent.py            # Agent åŸºç±»
â”‚   â”‚   â”œâ”€â”€ value_investing_agents.py # 9 å¤§ Agent å®ç°
â”‚   â”‚   â””â”€â”€ agent_config.py          # Agent é…ç½®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ data_models.py           # æ ¸å¿ƒæ•°æ®ç»“æ„
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                         # æ•°æ®å±‚
â”‚   â”‚   â””â”€â”€ akshare_provider.py      # AkShare æ•°æ®æº
â”‚   â”‚
â”‚   â”œâ”€â”€ schedulers/                   # è°ƒåº¦å±‚
â”‚   â”‚   â”œâ”€â”€ workflow_scheduler.py    # å·¥ä½œæµè°ƒåº¦
â”‚   â”‚   â””â”€â”€ task_scheduler.py        # å®šæ—¶ä»»åŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ ml/                           # æœºå™¨å­¦ä¹ 
â”‚   â”‚   â””â”€â”€ stock_scorer.py          # ML è¯„åˆ†æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ reports/                      # æŠ¥å‘Šç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ report_generator.py      # PDF/Excel ç”Ÿæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ visualization/                # å¯è§†åŒ–
â”‚   â”‚   â””â”€â”€ charts.py                # å›¾è¡¨ç”Ÿæˆ
â”‚   â”‚
â”‚   â”œâ”€â”€ realtime/                     # å®æ—¶è¡Œæƒ…
â”‚   â”‚   â””â”€â”€ quote_service.py         # è¡Œæƒ…æ¨é€æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ storage/                      # æ•°æ®å­˜å‚¨
â”‚   â”‚   â””â”€â”€ database.py              # SQLite å­˜å‚¨
â”‚   â”‚
â”‚   â”œâ”€â”€ community/                    # ç¤¾åŒºåŠŸèƒ½
â”‚   â”‚   â””â”€â”€ community_service.py     # åˆ†äº«/è¯„è®º/ç‚¹èµ
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                          # API æœåŠ¡
â”‚   â”‚   â””â”€â”€ api_service.py           # RESTful API
â”‚   â”‚
â”‚   â”œâ”€â”€ notifications/                # é€šçŸ¥
â”‚   â”‚   â””â”€â”€ email_sender.py          # é‚®ä»¶å‘é€
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                     # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ scheduled_report_service.py
â”‚   â”‚
â”‚   â””â”€â”€ utils/                        # å·¥å…·
â”‚       â”œâ”€â”€ enhanced_logging.py      # å¢å¼ºæ—¥å¿—
â”‚       â”œâ”€â”€ performance_monitor.py   # æ€§èƒ½ç›‘æ§
â”‚       â”œâ”€â”€ retry_mechanism.py       # é‡è¯•æœºåˆ¶
â”‚       â””â”€â”€ advanced_retry.py        # æ–­è·¯å™¨/é™æµ
â”‚
â”œâ”€â”€ tests/                            # æµ‹è¯•
â”‚   â”œâ”€â”€ unit/                        # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/                 # é›†æˆæµ‹è¯•
â”‚
â”œâ”€â”€ config/                           # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ agent_config.json            # Agent é…ç½®
â”‚   â”œâ”€â”€ email_config.json            # é‚®ä»¶é…ç½®
â”‚   â””â”€â”€ report_template.json         # æŠ¥å‘Šæ¨¡æ¿
â”‚
â”œâ”€â”€ demo/                             # æ¼”ç¤ºè„šæœ¬
â”‚   â”œâ”€â”€ demo_visualization.py
â”‚   â”œâ”€â”€ demo_community.py
â”‚   â”œâ”€â”€ demo_realtime_quote.py
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ docs/                             # æ–‡æ¡£
â”‚   â”œâ”€â”€ API_SERVICE_GUIDE.md
â”‚   â”œâ”€â”€ VISUALIZATION_GUIDE.md
â”‚   â”œâ”€â”€ COMMUNITY_GUIDE.md
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ data/                             # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ api/                         # API å¯†é’¥
â”‚   â”œâ”€â”€ community/                   # ç¤¾åŒºæ•°æ®
â”‚   â””â”€â”€ vimaster.db                  # SQLite æ•°æ®åº“
â”‚
â”œâ”€â”€ logs/                             # æ—¥å¿—ç›®å½•
â”œâ”€â”€ charts/                           # å›¾è¡¨è¾“å‡º
â”œâ”€â”€ reports/                          # æŠ¥å‘Šè¾“å‡º
â”‚
â”œâ”€â”€ run.py                            # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ run_api.py                        # API æœåŠ¡å…¥å£
â”œâ”€â”€ requirements.txt                  # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ pytest.ini                        # æµ‹è¯•é…ç½®
â””â”€â”€ README.md                         # æœ¬æ–‡ä»¶
```

---

## âš™ï¸ é…ç½®è¯´æ˜

### Agent é…ç½® (config/agent_config.json)

```json
{
  "agents": {
    "valuation_agent": {
      "enabled": true,
      "dcf_weight": 0.4,
      "pe_weight": 0.3,
      "pb_weight": 0.3
    }
  }
}
```

### é‚®ä»¶é…ç½® (config/email_config.json)

```json
{
  "smtp_server": "smtp.qq.com",
  "smtp_port": 465,
  "use_ssl": true,
  "sender_email": "your@qq.com",
  "sender_password": "æˆæƒç "
}
```

### ç¯å¢ƒå˜é‡

| å˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `LOG_LEVEL` | æ—¥å¿—çº§åˆ« | INFO |
| `SHOW_SYSTEM_INFO` | æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯ | false |

---

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–° Agent

```python
from src.agents.base_agent import BaseAgent

class MyCustomAgent(BaseAgent):
    def __init__(self):
        super().__init__("è‡ªå®šä¹‰Agent", "æˆ‘çš„è‡ªå®šä¹‰åˆ†æ")
    
    def analyze(self, context):
        # å®ç°åˆ†æé€»è¾‘
        return context
```

### æ·»åŠ æ–°æ•°æ®æº

```python
from src.data.akshare_provider import AkshareDataProvider

class MyDataProvider(AkshareDataProvider):
    @staticmethod
    def get_custom_data(stock_code: str):
        # å®ç°æ•°æ®è·å–
        pass
```

### æ·»åŠ æ–°å›¾è¡¨

```python
from src.visualization import StockVisualizer

class MyVisualizer(StockVisualizer):
    def plot_custom_chart(self, data):
        # å®ç°å›¾è¡¨ç»˜åˆ¶
        pass
```

---

## â“ å¸¸è§é—®é¢˜

### Q: ç³»ç»Ÿæ”¯æŒå“ªäº›è‚¡ç¥¨ä»£ç æ ¼å¼ï¼Ÿ

A: æ”¯æŒæ ‡å‡† 6 ä½æ•°å­—ä»£ç ï¼ˆå¦‚ï¼š600519ã€000858ï¼‰ã€‚

### Q: å¦‚ä½•è·å–å®æ—¶æ•°æ®ï¼Ÿ

A: ç³»ç»Ÿä½¿ç”¨ akshare åº“è‡ªåŠ¨è·å–ï¼Œéœ€è¦ç½‘ç»œè¿æ¥ã€‚

### Q: æŠ•èµ„ä¿¡å·çš„å«ä¹‰ï¼Ÿ

| ä¿¡å· | å«ä¹‰ | å»ºè®® |
|------|------|------|
| ğŸŸ¢ğŸŸ¢ å¼ºçƒˆä¹°å…¥ | è¯„åˆ†â‰¥80 | è¾ƒé«˜ä»“ä½ |
| ğŸŸ¢ ä¹°å…¥ | è¯„åˆ†â‰¥70 | ä¸­ç­‰ä»“ä½ |
| ğŸŸ¡ æŒæœ‰ | è¯„åˆ†50-70 | è§‚æœ› |
| ğŸ”´ å–å‡º | è¯„åˆ†<50 | åˆ†æ¬¡å–å‡º |
| ğŸ”´ğŸ”´ å¼ºçƒˆå–å‡º | ä¸¥é‡æ¶åŒ– | å¿«é€Ÿæ¸…ä»“ |

### Q: å¦‚ä½•éƒ¨ç½² API æœåŠ¡ï¼Ÿ

```bash
# å¼€å‘ç¯å¢ƒ
python run_api.py --debug

# ç”Ÿäº§ç¯å¢ƒ (Gunicorn)
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 "src.api:create_api_app()"
```

### Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

A: åˆ†æç»“æœå­˜å‚¨åœ¨ `data/vimaster.db` (SQLite)ã€‚

---

## ğŸ“ˆ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| v5.0 | 2026-01-27 | å•†ä¸šåŒ– APIã€å¯è§†åŒ–ã€ç¤¾åŒºåˆ†äº« |
| v4.0 | 2026-01-26 | å®šæ—¶ä»»åŠ¡ã€æŠ¥å‘Šç”Ÿæˆã€æ•°æ®å­˜å‚¨ |
| v3.0 | 2026-01-25 | ML è¯„åˆ†ã€å®æ—¶è¡Œæƒ…ã€æ€§èƒ½ç›‘æ§ |
| v2.0 | 2026-01-24 | å¤šæ•°æ®æºã€API é‡è¯•ã€ç¼“å­˜ |
| v1.0 | 2026-01-20 | æ ¸å¿ƒ Agentã€åŸºç¡€åˆ†æ |

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

<p align="center">
  <b>â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼ â­</b>
</p>

<p align="center">
  <b>VIMaster v5.0 - è®©ä»·å€¼æŠ•èµ„æ›´æ™ºèƒ½</b>
</p>
