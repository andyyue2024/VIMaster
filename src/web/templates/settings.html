<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设置 - VIMaster</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="bi bi-graph-up-arrow"></i> VIMaster
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/"><i class="bi bi-house"></i> 首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/analyze"><i class="bi bi-search"></i> 股票分析</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/portfolio"><i class="bi bi-briefcase"></i> 投资组合</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/history"><i class="bi bi-clock-history"></i> 历史记录</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="/settings"><i class="bi bi-gear"></i> 设置</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 主内容 -->
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div class="list-group">
                    <a href="#general" class="list-group-item list-group-item-action active" data-bs-toggle="list">
                        <i class="bi bi-sliders"></i> 通用设置
                    </a>
                    <a href="#agent" class="list-group-item list-group-item-action" data-bs-toggle="list">
                        <i class="bi bi-cpu"></i> Agent 配置
                    </a>
                    <a href="#notification" class="list-group-item list-group-item-action" data-bs-toggle="list">
                        <i class="bi bi-bell"></i> 通知设置
                    </a>
                    <a href="#about" class="list-group-item list-group-item-action" data-bs-toggle="list">
                        <i class="bi bi-info-circle"></i> 关于
                    </a>
                </div>
            </div>
            <div class="col-md-9">
                <div class="tab-content">
                    <!-- 通用设置 -->
                    <div class="tab-pane fade show active" id="general">
                        <div class="card shadow">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="bi bi-sliders"></i> 通用设置</h5>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3">
                                        <label class="form-label">数据源</label>
                                        <select class="form-select">
                                            <option selected>AkShare (推荐)</option>
                                            <option>TuShare</option>
                                            <option>BaoStock</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">缓存时间 (分钟)</label>
                                        <input type="number" class="form-control" value="30">
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">并行分析线程数</label>
                                        <input type="number" class="form-control" value="4" min="1" max="8">
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" checked id="enableML">
                                        <label class="form-check-label" for="enableML">启用机器学习评分</label>
                                    </div>
                                    <button type="submit" class="btn btn-primary">保存设置</button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Agent 配置 -->
                    <div class="tab-pane fade" id="agent">
                        <div class="card shadow">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="bi bi-cpu"></i> Agent 配置</h5>
                            </div>
                            <div class="card-body">
                                <div class="accordion" id="agentAccordion">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#agent1">
                                                估值 Agent
                                            </button>
                                        </h2>
                                        <div id="agent1" class="accordion-collapse collapse show" data-bs-parent="#agentAccordion">
                                            <div class="accordion-body">
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="form-label">DCF 权重</label>
                                                        <input type="number" class="form-control" value="0.4" step="0.1" min="0" max="1">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">PE 权重</label>
                                                        <input type="number" class="form-control" value="0.3" step="0.1" min="0" max="1">
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label class="form-label">PB 权重</label>
                                                        <input type="number" class="form-control" value="0.3" step="0.1" min="0" max="1">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h2 class="accordion-header">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#agent2">
                                                风险管理 Agent
                                            </button>
                                        </h2>
                                        <div id="agent2" class="accordion-collapse collapse" data-bs-parent="#agentAccordion">
                                            <div class="accordion-body">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <label class="form-label">最大仓位 (%)</label>
                                                        <input type="number" class="form-control" value="20" min="1" max="100">
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label class="form-label">止损比例 (%)</label>
                                                        <input type="number" class="form-control" value="10" min="1" max="50">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-primary mt-3">保存配置</button>
                            </div>
                        </div>
                    </div>

                    <!-- 通知设置 -->
                    <div class="tab-pane fade" id="notification">
                        <div class="card shadow">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="bi bi-bell"></i> 通知设置</h5>
                            </div>
                            <div class="card-body">
                                <form>
                                    <div class="mb-3">
                                        <label class="form-label">邮件地址</label>
                                        <input type="email" class="form-control" placeholder="your@email.com">
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="emailBuy">
                                        <label class="form-check-label" for="emailBuy">买入信号通知</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="emailSell">
                                        <label class="form-check-label" for="emailSell">卖出信号通知</label>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="emailDaily">
                                        <label class="form-check-label" for="emailDaily">每日报告</label>
                                    </div>
                                    <button type="submit" class="btn btn-primary">保存设置</button>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- 关于 -->
                    <div class="tab-pane fade" id="about">
                        <div class="card shadow">
                            <div class="card-header">
                                <h5 class="mb-0"><i class="bi bi-info-circle"></i> 关于 VIMaster</h5>
                            </div>
                            <div class="card-body">
                                <div class="text-center mb-4">
                                    <h1 class="display-4 text-primary">
                                        <i class="bi bi-graph-up-arrow"></i> VIMaster
                                    </h1>
                                    <p class="lead">价值投资分析系统 v5.0</p>
                                </div>

                                <h6>核心功能</h6>
                                <ul>
                                    <li>9 大智能 Agent 综合分析</li>
                                    <li>机器学习评分模型</li>
                                    <li>多数据源支持 (AkShare/TuShare/BaoStock)</li>
                                    <li>实时行情推送</li>
                                    <li>PDF/Excel 报告生成</li>
                                    <li>可视化图表</li>
                                    <li>定时任务与邮件通知</li>
                                    <li>RESTful API 服务</li>
                                    <li>社区分享功能</li>
                                </ul>

                                <h6>技术栈</h6>
                                <p>Python 3.8+ | Flask | Bootstrap 5 | SQLite</p>

                                <h6>开源协议</h6>
                                <p>MIT License</p>

                                <div class="text-center mt-4">
                                    <p class="text-muted">© 2026 VIMaster. All rights reserved.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <p class="mb-0">VIMaster v5.0 - 让价值投资更智能</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
